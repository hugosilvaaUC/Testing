import{y as e,z as n,E as s,H as t,f as r,g as i,J as u,A as a,K as c,M as o,_ as l,a as d,N as v,Q as f,i as g}from"./index-7246577f.js";var h=function(o){function g(e,h,S){var p=o.call(this,S)||this;return p.categorySlug=e.categorySlug,p.consent=n(e,h),p.id=e.templateId,p.isEssential=h.isEssential,p.isHidden=!!h.isHidden||e.isHidden,p.processorId=""+s(t()),p.subServices=[],p.subServicesLength=e.subConsents?e.subConsents.length:0,p.version=e.version,p.fetchSubServices=function(){return r(p,void 0,void 0,(function(){var n,s,t,r,o,S,p;return i(this,(function(i){switch(i.label){case 0:if(n=a.getInstance(),s=e.subConsents,t=(null===(p=this.language)||void 0===p?void 0:p.selected)||"de",!(r=c(t,s)).length)return[2,[]];S=null,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.fetchAggregatedServices(t,r,!1)];case 2:return o=i.sent(),[4,n.fetchTranslations()];case 3:return S=i.sent(),[3,5];case 4:throw i.sent(),new Error(u.FETCH_DATA_PROCESSING_SERVICES);case 5:return o&&s?(this.subServices=s.reduce((function(e,n){var s=null==o?void 0:o.find((function(e){return n.templateId===e.templateId&&n.version===e.version}));if(!s)return l([],d(e));var t=new g(n,h,s);return l(l([],d(e)),[t])}),[]),[2,this.subServices.reduce((function(e,n){var t=s.find((function(e){return n.id===e.templateId&&n.version===e.version}));if(!t)return l([],d(e));var r=new v(t,S,o);return l(l([],d(e)),[f(f({},n),r)])}),[])]):[2,[]]}}))}))},p}return e(g,o),g}(o),S=function(e,n,s){this.isEssential=e.isEssential,this.isHidden=e.isHidden,this.services=p(e,n,s),this.slug=e.categorySlug},p=function(e,n,s){return n.reduce((function(n,t){if(t.categorySlug===e.categorySlug){var r=null==s?void 0:s.find((function(e){return t.templateId===e.templateId&&t.version===e.version})),i=new h(t,e,r);return l(l([],d(n)),[i])}return l([],d(n))}),[])},I=function(e,n,s){this.categories=e.categories.reduce((function(n,t){var r=new S(t,e.consentTemplates,s);return g(r.services)?l(l([],d(n)),[r]):l([],d(n))}),[]),this.controllerId=n};export default I;
//# sourceMappingURL=DefaultData-5ed5bb39.js.map
